{
  "datasets": [
    {
      "type": "bigquery",
      "name": "cymbal_flights_dataset",
      "description": "This data warehouse is used to analyze everything to run the business better.  It contains historical data from the AlloyDB database, enriched with other large-scale datasets. The data is somewhat denormalized (flattened) into wide tables to make querying faster and simpler.  For multi-year data, it includes data for the year 2024-2025."
    },
    {
      "type": "alloydb",
      "name": "flights_dataset",
      "description": "This database runs the airline's booking engine and flight management system. It needs to be fast, reliable, and consistent for tasks like selling a ticket, assigning a seat, or updating a flight's status.  The schema is normalized to ensure data integrity and avoid redundancy.  It only includes data from the year 2025."
    }
  ],
  "cross_dataset_relations": {
    "foreign_keys": [
      {
        "child": {
          "type": "bigquery",
          "dataset": "cymbal_flights_dataset",
          "table": "flight_history",
          "column": "flight_id"
        },
        "parent": {
          "type": "alloydb",
          "dataset": "flights_dataset",
          "table": "flights",
          "column": "flight_id"
        }
      },
      {
        "child": {
          "type": "bigquery",
          "dataset": "cymbal_flights_dataset",
          "table": "flight_history",
          "column": "departure_airport_iata"
        },
        "parent": {
          "type": "alloydb",
          "dataset": "flights_dataset",
          "table": "airports",
          "column": "iata"
        }
      },
      {
        "child": {
          "type": "bigquery",
          "dataset": "cymbal_flights_dataset",
          "table": "flight_history",
          "column": "arrival_airport_iata"
        },
        "parent": {
          "type": "alloydb",
          "dataset": "flights_dataset",
          "table": "airports",
          "column": "iata"
        }
      },
      {
        "child": {
          "type": "bigquery",
          "dataset": "cymbal_flights_dataset",
          "table": "ticket_sales_history",
          "column": "flight_id"
        },
        "parent": {
          "type": "alloydb",
          "dataset": "flights_dataset",
          "table": "flights",
          "column": "flight_id"
        }
      },
      {
        "child": {
          "type": "bigquery",
          "dataset": "cymbal_flights_dataset",
          "table": "ticket_sales_history",
          "column": "customer_id"
        },
        "parent": {
          "type": "alloydb",
          "dataset": "flights_dataset",
          "table": "customers",
          "column": "customer_id"
        }
      },
      {
        "child": {
          "type": "bigquery",
          "dataset": "cymbal_flights_dataset",
          "table": "ticket_sales_history",
          "column": "ticket_id"
        },
        "parent": {
          "type": "alloydb",
          "dataset": "flights_dataset",
          "table": "tickets",
          "column": "ticket_id"
        }
      }
    ]
  }
}
